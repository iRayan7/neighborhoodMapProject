<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Neighborhood Map Project</title>
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css"
          integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
</head>
<body>
<div class="navbar navbar-light bg-light">
    <button class="navbar-toggler" type="button" data-target="#sideMenu" data-toggle="collapse">
        <span class="navbar-toggler-icon"></span>
    </button>
</div>
<div class="row">

    <div id="sideMenu"  class="col-xl-4 col-lg-4 col-md-4 col-sm-12 col-xs-12">
        <div>
            <div class="dropdown">
                <button class="btn btn-secondary dropdown-toggle btn-block" type="button" id="dropdownMenu2" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Filter
                </button>
                <div class="dropdown-menu" aria-labelledby="dropdownMenu2">
                    <button class="dropdown-item" type="button">Action</button>
                    <button class="dropdown-item" type="button">Another action</button>
                    <button class="dropdown-item" type="button">Something else here</button>
                </div>
            </div>
            <div class="list-group">
                <a href="#" class="list-group-item active" id="test">
                    Cras justo odio
                </a>
                <a href="#" class="list-group-item list-group-item-action">Dapibus ac facilisis in</a>
                <a href="#" class="list-group-item list-group-item-action">Morbi leo risus</a>
                <a href="#" class="list-group-item list-group-item-action">Porta ac consectetur ac</a>
                <a href="#"  data-bind="template: {name:'pin', foreach: filterPins}" class="list-group-item list-group-item-action disabled">Vestibulum at eros</a>

            </div>
        </div>
    </div>

    <div class="col-xl-8 col-lg-8 col-md-8 col-sm-12 col-xs-12">
        <div class="map ">
            <div id="map"></div>
        </div>
    </div>

</div>

<!-- Optional JavaScript -->
<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
        integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
        crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js"
        integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4"
        crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js"
        integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1"
        crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/knockout/3.4.2/knockout-min.js"></script>
<script>
    //blank array for the listing markers
    var markers = [];
    var map;

    function initMap() {
        map = new google.maps.Map(document.getElementById('map'), {
            zoom: 17,
            center: {lat: 24.714178, lng: 46.632500}
        });
        var locations = [
            {title: 'macdonalds', location: {lat: 24.713384,lng: 46.633396}},
            {title: 'Shawarmer', location: {lat: 24.713122,lng: 46.633899}},
            {title: 'The Body Shop', location: {lat: 24.713855,lng: 46.633980}},
            {title: 'SUBWAY', location: {lat: 24.714625,lng: 46.634592}},
            {title: 'Dunkin Donuts', location: {lat: 24.713335,lng: 46.634071}},
            {title: 'Al Kitab Roundabout', location: {lat: 24.714859,lng: 46.631706}},
            {title: 'TamimlargeInfowindowlargeInfowindowlargeInfowindowlargeInfowindowlargeInfowindowlargeInfowindowi Markets', location: {lat: 24.713611,lng: 46.633948}},
        ];

        var largeInfowindow = new google.maps.InfoWindow();

        //loop through the locations to make markers
        for(var i =0; i< locations.length; i++){
            // get the positions and title from the locations array
            var position = locations[i].location;
            var title = locations[i].title;
            // creat marker per location and push into the markers array
            var marker = new google.maps.Marker({
                map: map,
                position: position,
                title: title,
                animation: google.maps.Animation.DROP,
                id: i
            });
            //push the marker into the array
            markers.push(marker);
            // exted the boundries of the map for each marker
//            bounds.extend(marker.position);
            // create an onClick event to open an infowindow at each marker.
            marker.addListener('click', function(){
                populateInfoWindow(this, largeInfowindow);
            });
        }
        //function to populate the infowindow when the marker is clicked.
        //one infowindow will be open when clicked, and populate based on the markers position.
        function populateInfoWindow(marker, infowindow) {
            // check to make sure the infowindow is not already opened on this marker.
            if (infowindow.marker != marker) {
                infowindow.marker = marker;
                infowindow.setContent('<div>' + marker.title + '</div>');
                infowindow.open(map, marker);
                // make sure the marker property is cleared if the infowindow is closed.
//                infowindow.addListener('closeclick', function(){
//                    infowindow.setMarker(null);
//                });
            }
        }

        var marker;
        marker = function (data) {
            this.title = ko.observable(data.title);
            this.position = ko.observable(data.location);
            this.active = ko.computed(function (show) {

            });
        }


        new google.maps.Marker({
            map: map,
            position: {lat: 24.713186, lng: 46.633843},
            title: 'teest tesst',
            animation: google.maps.Animation.DROP,
            id: 8
        });


        var ViewModel = function() {




        };

        ko.applyBindings(new ViewModel());

    }
</script>
<script async defer
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAImzHssZtEyY5LktnEH5kHFmSk5InoX_4&callback=initMap">
</script>

</body>
</html>